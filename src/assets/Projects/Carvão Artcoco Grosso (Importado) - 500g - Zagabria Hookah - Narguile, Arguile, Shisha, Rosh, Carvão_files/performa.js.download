window.performaConfig={};var performa_Class=function(){var that=this;window.pfm_env=window.location.protocol+((xe_core.vm=='dev')?'//dev':((xe_core.vm!==false&&xe_core.level>=4)?'//stage':'//api'));window.pfm_pubkey=window.pfm_pubkey||(xe_isset(xe_config.crossDomain)?xe_config.crossDomain.DGUID:xe_config.GUID);this.init=function(){xe_basicXMLHttpRequest('GET',pfm_env+'.performa.ai/v1/?type=front&params={"route":"store_details"}&pubkey='+pfm_pubkey+'&cache=remote',true,function(data){if(data.status===200){var buff=String(data.responseText);if(buff!=''){performaConfig=JSON.parse(data.responseText);if(performaConfig.status=='ok'){var performa_js=(pfm_env.indexOf('//api')>-1)?'performa.js':'performa-valid.js?ver='+String(+new Date());if(xe_isset(performaConfig.details.variables.boot,'string')&&performaConfig.details.variables.boot!=''){var evalVar='(function () {'+performaConfig.details.variables.boot+'})()';try{var resultEval=eval(evalVar);}catch(e){xe_core.vm&&console.error('[PERFORMA] Failed to execute the boot script! '+e);}}
if(xe_isset(performaConfig.details.cross_domain,'string')&&performaConfig.details.cross_domain!=''){document.cookie.split(';').reduce((cookies,cookie)=>{var[name,value]=cookie.split('=').map(c=>c.trim());if(name.indexOf('xe_xdm-')>-1)
document.cookie=name+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';},{});xe_crossDomain(performaConfig.details.cross_domain);}
var script=document.createElement('script');script.type='text/javascript';script.async=true;script.id='performaLoadHelper';script.src='//cdn.performa.ai/v1/'+performa_js;document.getElementsByTagName('head')[0].appendChild(script);}else
xe_core.vm&&console.error('Performa.AI - Data Error!');}else
xe_core.vm&&console.warn('Performa.AI - Domain preset');}});}
xe_core.hookEvent(XE_EVENTS.vars.ready,function(){if(!xe_core.requireExtension('datatunnel.js','visitor.js')){console.error('Required extensions not loaded...');}else{that.init();}});};var xex_performa=new performa_Class();